<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <title>Encriptador RTB</title>
        <link rel="stylesheet" href="css/reset.css">
        <link rel="stylesheet" href="css/style.css">
        <link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro&display=swap" rel="stylesheet">
    </head>
    <body>
       <header>
            <h1><img src="imagenes/icono x100.png" alt="icono de Encriptador RTB">Encriptador RTB</h1>
        </header>

        <main>
            <div class="areaTexto">
                <textarea name="texto" id="texto" placeholder="Ingrese el texto aquí" autofocus></textarea>
                <p id="advertencia"><img src="imagenes/advertencia.png" alt="logo de advertencia">Solo letras minúsculas</p>
            </div>
            <div class="botones">
                <button id="encriptar" class="boton_encrip" type="button"> Encriptar </button>
                <button id="desencriptar" class="boton_desencrip" type="button"> Desencriptar </button>
            </div>
            <div class="resultado">
                <div class="no_resuelto" id="noResuelto">
                    <img src="imagenes/lupa.png" alt="imagen de lupa">
                    <p>Sin mensaje</p>
                    <p>Ingrese el texto a encriptar o desencriptar</p>
                </div>
                <div class="resuelto" id="resuelto">
                    <textarea name="resultado" id="resultado" readonly></textarea>
                    <button id="copiar" class="boton_copiar" type="button">Copiar</button>
                </div>
            </div>
        </main>
        <script>                
            const textoUsuario = document.querySelector("#texto")
            const textoResultado = document.querySelector("#resultado")
            const botonEncriptar = document.querySelector("#encriptar")
            const botonDesencriptar = document.querySelector("#desencriptar")
            const botonCopiar = document.querySelector("#copiar")

            function encriptar (){
                let texto = textoUsuario.value.toLowerCase();
                let textoEncriptado = texto.replaceAll("e", "enter").replaceAll("i", "imes").replaceAll("o", "ober").replaceAll("a", "ai").replaceAll("u", "ufat");
                document.getElementById("noResuelto").style.visibility = "hidden";
                document.getElementById("copiar").style.visibility = "visible";

                textoResultado.value = textoEncriptado;

                document.getElementById("texto").value = '';
            }

            function desencriptar (){
            let textoEncriptado = textoUsuario.value.toLowerCase();
            let texto = textoEncriptado
            .replaceAll("enter", "e")
            .replaceAll("imes", "i")
            .replaceAll("ober", "o")
            .replaceAll("ai", "a")
            .replaceAll("ufat", "u");

            document.getElementById("noResuelto").style.visibility = "hidden";
            document.getElementById("copiar").style.visibility = "visible";

            textoResultado.value = texto;

            document.getElementById("texto").value = '';
            }

            function copiar () {
            let textoEncriptado = textoResultado.value;
            navigator.clipboard.writeText(textoEncriptado);
            }
            
            botonEncriptar.onclick = encriptar;
            botonDesencriptar.onclick = desencriptar;
            botonCopiar.onclick = copiar;

        </script>

        <footer>
            <p>Diseño y desarrollo completo realizado por Tamara Behotas <img src="imagenes/icono.png" alt="icono de RTB"></p>
            <p><a href="https://github.com/Tamarabehotas"><img src="imagenes/github.png" alt="icono de GitHub"> Mis proyectos</a></p>
            <p><a href="https://www.linkedin.com/in/tamara-behotas/"><img src="imagenes/linkedin.png" alt="icono de Linkedin"> Mi perfil</a></p>

        </footer>
    </body>    
</html>